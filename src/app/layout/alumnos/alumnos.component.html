<div [@routerTransition]>
    <div class="row m-4">
        <div class="col d-flex justify-content-end">
            <button (click)="open(content)" class="btn btn-dark">
                <i class="fa fa-plus"></i>
                Agregar Alumno
            </button>
        </div>
    </div>
</div>
<div class="container-fluid">
    <table datatable [dtOptions]="dtOptions"
        class="mt-3 animated fadeIn faster">
        <thead >
        <tr>
          <th scope="col">#</th>
          <th scope="col">Nombre</th>
          <th scope="col">Nivel</th>
          <th scope="col">Carerra</th>
          <th scope="col">Sede</th>
          <th scope="col">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr  *ngFor="let a of alumnos; let i=index ">
            <td>{{ i+1 }}</td>
            <td>{{ a.nombre }}</td>
            <td>{{ a.nivel }}</td>
            <td>{{ a.carrera }}</td>
            <td>{{ a.sede}}</td>
            <td>
                <button (click)="actualizar(c, content)"
                        class="btn btn-info mr-1">
                        <i class="fa fa-pencil"></i>
                  </button>
                  <button
                       (click)="borrar(c , i)"
                       class="btn btn-danger">
                    <i class="fa fa-trash"></i>
                  </button>
            </td>
        </tr>
      </tbody>
    </table>
</div>
<ng-template #content let-c="close" let-d="dismiss">
    <form (ngSubmit)="guardar(formulario, content)" #formulario="ngForm">
        <div class="modal-header text-center">
            <h4 class="modal-title">Alumnos</h4>
            <button
                type="button"
                class="close"
                aria-label="Close"
                (click)="d('Cross click')"
            >
                <span aria-hidden="true">&times;</span>
            </button>
        </div>

        <div class="modal-body">
            <div class="form-row">
                <div class="form-group col-md-12">
                    <i class="fa fa fa-id-card-alt"></i>
                    <label>Nombre</label>
                    <input
                        type="text"
                        class="form-control"
                        required
                        name="nombre"
                        placeholder="Nombre completo del Alumno"
                    />
                </div>

            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label>Número del seguro social</label>
                    <input
                        type="text"
                        class="form-control"
                        required
                        name="numseguro"
                        placeholder="Número del seguro social"
                    />
                </div>
                <div class="form-group col-md-6 ">
                    <label for="nivel">Nivel</label>
                    <select class="form-control"
                        name="nivel" id="nivel"
                       >
                        <option default selected>Seleccione un nivel académico...</option>
                        <option value="TSU">Técnico Superior Universitario</option>
                        <option value="ING">Ingeniería</option>
                    </select>
                </div>

            </div>

            <div class="form-row">
                <div class="form-group col-md-6 ">
                    <label for="carrera">Carrera</label>
                    <select class="form-control"
                        name="carrera" id="nivel"
                       >
                        <option default selected>Seleccione la carrera...</option>
                        <option value="TIC">Tecnologías de la Información y Comunicación</option>
                    </select>
                </div>
                <div class="form-group col-md-6 ">
                    <label for="carrera">Sede</label>
                    <select class="form-control"
                        name="carrera" id="nivel"
                       >
                        <option default selected>Seleccione la sede...</option>
                        <option value="1Mayo">1 de Mayo</option>
                        <option value="Creativa">Ciudad Creativa Digital</option>
                    </select>
                </div>
            </div>
            <div class="form-row">
                <div
                    class="form-group col-md-6"

                >
                    <label>Fecha de alta</label>
                    <input
                        type="text"
                        class="form-control"
                        disabled
                        name="fecha_alta"
                        placeholder="Horario"
                    />
                </div>
                <div
                    class="form-group col-md-6"

                >
                    <label>Fecha de ultima actualiazación</label>
                    <input
                        type="text"
                        class="form-control"
                        disabled
                        name="fecha_update"
                        placeholder="Horario"
                    />
                </div>
            </div>
        </div>
        <div class="modal-footer align-content-center">
            <button
                type="button"
                class="btn btn-secondary"
                (click)="c('Close click')"
            >
                Cerrar
            </button>

            <button
                [disabled]="!formulario.valid"
                class="btn btn-primary"
                type="submit"
            >
                <i class="fa fa-save"></i>
                Guardar
            </button>
        </div>
    </form>
</ng-template>
